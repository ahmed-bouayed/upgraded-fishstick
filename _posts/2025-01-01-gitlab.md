---
title: title
description: description
published: false
date: 2025-01-01
categories: docker
tags: dns docker  
image:
  path: /assets/img/headers/
  lqip: data:image/webp;base64,
  alt: image
---


services:
  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    restart: always
    hostname: 'gitlab.local.ahmedbouayed.tn'
    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'https://gitlab.local.ahmedbouayed.tn'
        gitlab_rails['gitlab_shell_ssh_port'] = 2424
        nginx[‘listen_port’] = 9080
        nginx['listen_https'] = false
        nginx['redirect_http_to_https'] = false"
        proxy_pass http://192.168.11.110:9080

        registry_external_url 'https://registry.example.com'


        nginx['listen_port'] = 15000
    nginx['listen_https'] = false
    nginx['proxy_set_headers'] = {"X-Forwarded-Proto" => "https","X-Forwarded-Ssl" => "on"}
    gitlab_rails['registry_enabled'] = true
    registry['enable'] = true
    registry_nginx['enable'] = true
    registry_nginx['listen_port'] = 15001
    registry_nginx['listen_https'] = false
    registry_nginx['proxy_set_headers'] = {"X-Forwarded-Proto" => "https","X-Forwarded-Ssl" => "on"}
    gitlab_rails['rack_attack_git_basic_auth'] = {
        'enabled' => false,
    }
    ports:
      - "8080:80"
    volumes:
      - ./gitlab/config:/etc/gitlab
      - ./gitlab/logs:/var/log/gitlab
      - ./gitlab/data:/var/opt/gitlab



If you're testing locally, add the following line to your /etc/hosts file:

127.0.0.1 gitlab.local.ahmedbouayed.tn
